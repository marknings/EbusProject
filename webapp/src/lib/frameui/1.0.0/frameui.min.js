/* <%=grunt.template.tody("yyyy-MM-dd")>  */
angular.module("szseui",["szseui.bootstrap.transition","szseui.bootstrap.collapse","szseui.layout.accordion","szseui.bootstrap.alert","szseui.bootstrap.bindHtml","szseui.form.buttons","szseui.bootstrap.position","szseui.form.datepicker","szseui.menu.dropdown","szseui.filter","szseui.dialog.modal","szseui.bootstrap.pagination","szseui.tip.tooltip","szseui.bootstrap.popover","szseui.form.select2","szseui.layout.tabs","szseui.bootstrap.timepicker","szseui.dialog.toaster","szseui.tree","szseui.form.typeahead","szseui.form.validation"]),angular.module("szseui.bootstrap.transition",[]).factory("$transition",["$q","$timeout","$rootScope",function(a,b,c){function d(a){for(var b in a)if(void 0!==f.style[b])return a[b]}var e=function(d,f,g){g=g||{};var h=a.defer(),i=e[g.animation?"animationEndEventName":"transitionEndEventName"],j=function(a){c.$apply(function(){d.unbind(i,j),h.resolve(d)})};return i&&d.bind(i,j),b(function(){angular.isString(f)?d.addClass(f):angular.isFunction(f)?f(d):angular.isObject(f)&&d.css(f),i||h.resolve(d)}),h.promise.cancel=function(){i&&d.unbind(i,j),h.reject("Transition cancelled")},h.promise},f=document.createElement("trans"),g={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},h={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};return e.transitionEndEventName=d(g),e.animationEndEventName=d(h),e}]),angular.module("szseui.bootstrap.collapse",["szseui.bootstrap.transition"]).directive("collapse",["$transition",function(a){return{link:function(b,c,d){function e(b){function d(){j===e&&(j=void 0)}var e=a(c,b);return j&&j.cancel(),j=e,e.then(d,d),e}function f(){k?(k=!1,g()):(c.removeClass("collapse").addClass("collapsing"),e({height:c[0].scrollHeight+"px"}).then(g))}function g(){c.removeClass("collapsing"),c.addClass("collapse in"),c.css({height:"auto"})}function h(){if(k)k=!1,i(),c.css({height:0});else{c.css({height:c[0].scrollHeight+"px"});c[0].offsetWidth;c.removeClass("collapse in").addClass("collapsing"),e({height:0}).then(i)}}function i(){c.removeClass("collapsing"),c.addClass("collapse")}var j,k=!0;b.$watch(d.collapse,function(a){a?h():f()})}}}]),angular.module("szseui.layout.accordion",["szseui.bootstrap.collapse"]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function(a,b,c){this.groups=[],this.closeOthers=function(d){var e=angular.isDefined(b.closeOthers)?a.$eval(b.closeOthers):c.closeOthers;e&&angular.forEach(this.groups,function(a){a!==d&&(a.isOpen=!1)})},this.addGroup=function(a){var b=this;this.groups.push(a),a.$on("$destroy",function(c){b.removeGroup(a)})},this.removeGroup=function(a){var b=this.groups.indexOf(a);-1!==b&&this.groups.splice(b,1)}}]).directive("sAccordion",function(){return{restrict:"EA",controller:"AccordionController",transclude:!0,replace:!1,templateUrl:function(a,b){return window.$getSzseUiTemplateUrl$(a,b,"accordion","accordion")}}}).directive("sAccordionGroup",function(){return{require:"^sAccordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:function(a,b){return window.$getSzseUiTemplateUrl$(a,b,"accordion","accordion-group")},scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(a){this.heading=a}},link:function(a,b,c,d){d.addGroup(a),a.$watch("isOpen",function(b){b&&d.closeOthers(a)}),a.toggleOpen=function(){a.isDisabled||(a.isOpen=!a.isOpen)}}}}).directive("sAccordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^sAccordionGroup",compile:function(a,b,c){return function(a,b,d,e){e.setHeading(c(a,function(){}))}}}}).directive("sAccordionTransclude",function(){return{require:"^sAccordionGroup",link:function(a,b,c,d){a.$watch(function(){return d[c.sAccordionTransclude]},function(a){a&&(b.html(""),b.append(a))})}}}),angular.module("szseui.bootstrap.alert",[]).controller("AlertController",["$scope","$attrs",function(a,b){a.closeable="close"in b}]).directive("sAlert",function(){return{restrict:"EA",controller:"AlertController",templateUrl:function(a,b){return window.$getSzseUiTemplateUrl$(a,b,"alert","alert")},transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}),angular.module("szseui.bootstrap.bindHtml",[]).directive("bindHtmlUnsafe",function(){return function(a,b,c){b.addClass("ng-binding").data("$binding",c.bindHtmlUnsafe),a.$watch(c.bindHtmlUnsafe,function(a){b.html(a||"")})}}),angular.module("szseui.form.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).controller("ButtonsController",["buttonConfig",function(a){this.activeClass=a.activeClass||"active",this.toggleEvent=a.toggleEvent||"click"}]).directive("btnRadio",function(){return{require:["btnRadio","ngModel"],controller:"ButtonsController",link:function(a,b,c,d){var e=d[0],f=d[1];f.$render=function(){b.toggleClass(e.activeClass,angular.equals(f.$modelValue,a.$eval(c.btnRadio)))},b.bind(e.toggleEvent,function(){b.hasClass(e.activeClass)||a.$apply(function(){f.$setViewValue(a.$eval(c.btnRadio)),f.$render()})})}}}).directive("btnCheckbox",function(){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",link:function(a,b,c,d){function e(){return g(c.btnCheckboxTrue,!0)}function f(){return g(c.btnCheckboxFalse,!1)}function g(b,c){var d=a.$eval(b);return angular.isDefined(d)?d:c}var h=d[0],i=d[1];i.$render=function(){b.toggleClass(h.activeClass,angular.equals(i.$modelValue,e()))},b.bind(h.toggleEvent,function(){a.$apply(function(){i.$setViewValue(b.hasClass(h.activeClass)?f():e()),i.$render()})})}}}),angular.module("szseui.bootstrap.position",[]).factory("$position",["$document","$window",function(a,b){function c(a,c){return a.currentStyle?a.currentStyle[c]:b.getComputedStyle?b.getComputedStyle(a)[c]:a.style[c]}function d(a){return"static"===(c(a,"position")||"static")}var e=function(b){for(var c=a[0],e=b.offsetParent||c;e&&e!==c&&d(e);)e=e.offsetParent;return e||c};return{position:function(b){var c=this.offset(b),d={top:0,left:0},f=e(b[0]);f!=a[0]&&(d=this.offset(angular.element(f)),d.top+=f.clientTop-f.scrollTop,d.left+=f.clientLeft-f.scrollLeft);var g=b[0].getBoundingClientRect();return{width:g.width||b.prop("offsetWidth"),height:g.height||b.prop("offsetHeight"),top:c.top-d.top,left:c.left-d.left}},offset:function(c){var d=c[0].getBoundingClientRect();return{width:d.width||c.prop("offsetWidth"),height:d.height||c.prop("offsetHeight"),top:d.top+(b.pageYOffset||a[0].body.scrollTop||a[0].documentElement.scrollTop),left:d.left+(b.pageXOffset||a[0].body.scrollLeft||a[0].documentElement.scrollLeft)}}}}]),angular.module("szseui.form.datepicker",["szseui.bootstrap.position"]).constant("datepickerConfig",{dayFormat:"d",monthFormat:"MMMM",yearFormat:"yyyy",dayHeaderFormat:"EEE",dayTitleFormat:"MMMM yyyy",monthTitleFormat:"yyyy",showWeeks:!1,startingDay:0,yearRange:20,minDate:null,maxDate:null}).controller("DatepickerController",["$scope","$attrs","dateFilter","datepickerConfig",function(a,b,c,d){function e(b,c){return angular.isDefined(b)?a.$parent.$eval(b):c}function f(a,b){return new Date(a,b,0).getDate()}function g(a,b){for(var c=new Array(b),d=a,e=0;b>e;)c[e++]=new Date(d),d.setDate(d.getDate()+1);return c}function h(a,b,d,e){return{date:a,label:c(a,b),selected:!!d,secondary:!!e,holiday:0==a.getDay()||6==a.getDay()}}var i=c,j={day0:"日",day1:"一",day2:"二",day3:"三",day4:"四",day5:"五",day6:"六"};c=function(a,b){return"EEE"==b?j["day"+a.getDay()]:"MMMM yyyy"==b?a.getFullYear()+"年 "+(a.getMonth()+1)+"月":"MMMM"==b?a.getMonth()+1+"月 ":i(a,b)};var k={day:e(b.dayFormat,d.dayFormat),month:e(b.monthFormat,d.monthFormat),year:e(b.yearFormat,d.yearFormat),dayHeader:e(b.dayHeaderFormat,d.dayHeaderFormat),dayTitle:e(b.dayTitleFormat,d.dayTitleFormat),monthTitle:e(b.monthTitleFormat,d.monthTitleFormat)},l=e(b.startingDay,d.startingDay),m=e(b.yearRange,d.yearRange);this.minDate=d.minDate?new Date(d.minDate):null,this.maxDate=d.maxDate?new Date(d.maxDate):null,this.modes=[{name:"day",getVisibleDates:function(a,b){var d=a.getFullYear(),e=a.getMonth(),i=new Date(d,e,1),j=l-i.getDay(),m=j>0?7-j:-j,n=new Date(i),o=0;m>0&&(n.setDate(-m+1),o+=m),o+=f(d,e+1),o+=(7-o%7)%7;for(var p=g(n,o),q=new Array(7),r=0;o>r;r++){var s=p[r];p[r]=h(s,k.day,b&&b.getDate()===s.getDate()&&b.getMonth()===s.getMonth()&&b.getFullYear()===s.getFullYear(),s.getMonth()!==e)}for(var t=0;7>t;t++)q[t]=c(p[t].date,k.dayHeader);return{objects:p,title:c(a,k.dayTitle),labels:q}},compare:function(a,b){return new Date(a.getFullYear(),a.getMonth(),a.getDate())-new Date(b.getFullYear(),b.getMonth(),b.getDate())},split:7,step:{months:1}},{name:"month",getVisibleDates:function(a,b){for(var d=new Array(12),e=a.getFullYear(),f=0;12>f;f++){var g=new Date(e,f,1);d[f]=h(g,k.month,b&&b.getMonth()===f&&b.getFullYear()===e)}return{objects:d,title:c(a,k.monthTitle)}},compare:function(a,b){return new Date(a.getFullYear(),a.getMonth())-new Date(b.getFullYear(),b.getMonth())},split:3,step:{years:1}},{name:"year",getVisibleDates:function(a,b){for(var c=new Array(m),d=a.getFullYear(),e=parseInt((d-1)/m,10)*m+1,f=0;m>f;f++){var g=new Date(e+f,0,1);c[f]=h(g,k.year,b&&b.getFullYear()===g.getFullYear())}return{objects:c,title:[c[0].label,c[m-1].label].join(" - ")}},compare:function(a,b){return a.getFullYear()-b.getFullYear()},split:5,step:{years:m}}],this.isDisabled=function(b,c){var d=this.modes[c||0];return this.minDate&&d.compare(b,this.minDate)<0||this.maxDate&&d.compare(b,this.maxDate)>0||a.dateDisabled&&a.dateDisabled({date:b,mode:d.name})}}]).directive("sDatepicker",["dateFilter","$parse","datepickerConfig","$log",function(a,b,c,d){return{restrict:"EA",replace:!0,templateUrl:function(a,b){return window.$getSzseUiTemplateUrl$(a,b,"datepicker","datepicker")},scope:{dateDisabled:"&",showTime:"="},require:["sDatepicker","?^ngModel"],controller:"DatepickerController",link:function(a,e,f,g){function h(){a.showWeekNumbers=0===r&&t}function i(a,b){for(var c=[];a.length>0;)c.push(a.splice(0,b));return c}function j(b){var c=null,e=!0;q.$modelValue&&(c=new Date(q.$modelValue),isNaN(c)?(e=!1,d.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):b&&(s=c)),q.$setValidity("date",e);var f=p.modes[r],g=f.getVisibleDates(s,c);angular.forEach(g.objects,function(a){a.disabled=p.isDisabled(a.date,r)}),q.$setValidity("date-disabled",!c||!p.isDisabled(c)),a.rows=i(g.objects,f.split),a.labels=g.labels||[],a.title=g.title}function k(a){r=a,h(),j()}function l(a){var b=new Date(a);b.setDate(b.getDate()+4-(b.getDay()||7));var c=b.getTime();return b.setMonth(0),b.setDate(1),Math.floor(Math.round((c-b)/864e5)/7)+1}function m(){if(/^\d+$/.test(a.hours)){var b=parseInt(a.hours,0);return b=b>24?b%24:b,a.hours=b,b}return void(a.hours="")}function n(){if(/^\d+$/.test(a.minutes)){var b=parseInt(a.minutes,0);return b=b>60?b%60:b,a.minutes=b,b}return void(a.minutes="")}function o(){if(/^\d+$/.test(a.seconds)){var b=parseInt(a.seconds,0);return b=b>60?b%60:b,a.seconds=b,b}return void(a.seconds="")}var p=g[0],q=g[1];if(q){var r=0,s=new Date,t=c.showWeeks;f.showWeeks?a.$parent.$watch(b(f.showWeeks),function(a){t=!!a,h()}):h(),f.min&&a.$parent.$watch(b(f.min),function(a){p.minDate=a?new Date(a):null,j()}),f.max&&a.$parent.$watch(b(f.max),function(a){p.maxDate=a?new Date(a):null,j()}),q.$render=function(){j(!0)},j(!0),a.select=function(a){if(0===r){var b=q.$modelValue?new Date(q.$modelValue):new Date(0,0,0,0,0,0,0);b.setFullYear(a.getFullYear(),a.getMonth(),a.getDate()),q.$setViewValue(b),j(!0)}else s=a,k(r-1)},a.move=function(a){var b=p.modes[r].step;s.setMonth(s.getMonth()+a*(b.months||0)),s.setFullYear(s.getFullYear()+a*(b.years||0)),j()},a.toggleMode=function(){k((r+1)%p.modes.length)},a.isDayMode=function(){return 0===r},a.getWeekNumber=function(b){return 0===r&&a.showWeekNumbers&&7===b.length?l(b[0].date):null},a.$watch(function(){return q.$modelValue},function(b){var c=new Date(b);null!=b?(a.hours=c.getHours(),a.minutes=c.getMinutes(),a.seconds=c.getSeconds()):(a.hours="",a.minutes="",a.seconds="")}),a.updateHours=function(){var a=m();if(null!=a&&null!=q.$modelValue){var b=q.$modelValue?new Date(q.$modelValue):new Date(0,0,0,0,0,0,0);b.setHours(a),q.$setViewValue(b)}},a.updateMinutes=function(){var a=n();if(null!=a&&null!=q.$modelValue){var b=q.$modelValue?new Date(q.$modelValue):new Date(0,0,0,0,0,0,0);b.setMinutes(a),q.$setViewValue(b)}},a.updateSeconds=function(){var a=o();if(null!=a&&null!=q.$modelValue){var b=q.$modelValue?new Date(q.$modelValue):new Date(0,0,0,0,0,0,0);b.setSeconds(a),q.$setViewValue(b)}}}}}}]).constant("datepickerPopupConfig",{dateFormat:"yyyy-MM-dd",currentText:"今天",toggleWeeksText:"周数",clearText:"清除",closeText:"关闭",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0}).directive("sDatepickerPopup",["$compile","$parse","$document","$position","dateFilter","datepickerPopupConfig","datepickerConfig","$timeout",function(a,b,c,d,e,f,g,h){return{restrict:"EA",require:"ngModel",priority:1,link:function(i,j,k,l){function m(a){w?w(i,!!a):r.isOpen=!!a}function n(a){if(a){if(angular.isDate(a))return l.$setValidity("date",!0),a;if(angular.isString(a)){var b=new Date(a);return isNaN(b)&&(b=new Date(a.replace(/\s/,"T"))),isNaN(b)?void l.$setValidity("date",!1):(l.$setValidity("date",!0),b)}return void l.$setValidity("date",!1)}return l.$setValidity("date",!0),null}function o(a,c,d){a&&(i.$watch(b(a),function(a){r[c]=a}),A.attr(d||c,c))}function p(){r.position=u?d.offset(j):d.position(j),r.position.top=r.position.top+j.prop("offsetHeight"),h(function(){var a=d.offset(E);r.position.left+a.width>document.documentElement.clientWidth&&(r.position.left=document.documentElement.clientWidth-a.width)})}var q,r=i.$new(),s=angular.isDefined(k.closeOnDateSelection)?i.$eval(k.closeOnDateSelection):f.closeOnDateSelection,t=s,u=angular.isDefined(k.datepickerAppendToBody)?i.$eval(k.datepickerAppendToBody):f.appendToBody;k.$observe("sDatepickerPopup",function(a){q=a||f.dateFormat,r.showTime=q.indexOf("HH")>0,s=r.showTime===!0?!1:t,l.$render()}),r.showButtonBar=angular.isDefined(k.showButtonBar)?i.$eval(k.showButtonBar):f.showButtonBar,i.$on("$destroy",function(){E.remove(),r.$destroy()}),k.$observe("currentText",function(a){r.currentText=angular.isDefined(a)?a:f.currentText}),k.$observe("toggleWeeksText",function(a){r.toggleWeeksText=angular.isDefined(a)?a:f.toggleWeeksText}),k.$observe("clearText",function(a){r.clearText=angular.isDefined(a)?a:f.clearText}),k.$observe("closeText",function(a){r.closeText=angular.isDefined(a)?a:f.closeText});var v,w;k.isOpen&&(v=b(k.isOpen),w=v.assign,i.$watch(v,function(a){r.isOpen=!!a})),r.isOpen=v?v(i):!1;var x=function(a){r.isOpen&&a.target!==j[0]&&r.$apply(function(){m(!1)})},y=function(){r.$apply(function(){m(!0)})},z=angular.element('<div datepicker-popup-wrap><div s-datepicker show-time="showTime"></div></div>');z.attr({"ng-model":"date","ng-change":"dateSelection()"});var A=angular.element(z.children()[0]),B={};k.datepickerOptions&&(B=i.$eval(k.datepickerOptions),A.attr(angular.extend({},B))),l.$parsers.unshift(n),r.dateSelection=function(a){angular.isDefined(a)&&(r.date=a),l.$setViewValue(r.date),l.$render(),JPlaceHolder&&JPlaceHolder.init(),s&&m(!1)},j.bind("input change keyup",function(){r.$apply(function(){r.date=l.$modelValue})}),l.$render=function(){var a=l.$viewValue?e(l.$viewValue,q):"";j.val(a),r.date=l.$modelValue},o(k.min,"min"),o(k.max,"max"),k.showWeeks?o(k.showWeeks,"showWeeks","show-weeks"):(r.showWeeks="show-weeks"in B?B["show-weeks"]:g.showWeeks,A.attr("show-weeks","showWeeks")),k.dateDisabled&&A.attr("date-disabled",k.dateDisabled);var C=!1,D=!1;r.$watch("isOpen",function(a){a?(p(),c.bind("click",x),D&&j.unbind("focus",y),j[0].focus(),C=!0):(C&&c.unbind("click",x),j.bind("focus",y),D=!0),w&&w(i,a)}),r.today=function(){r.dateSelection(new Date)},r.clear=function(){r.dateSelection(null)};var E=a(z)(r);u?c.find("body").append(E):j.after(E)}}}]).directive("datepickerPopupWrap",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:function(a,b){return window.$getSzseUiTemplateUrl$(a,b,"datepicker","popup")},link:function(a,b,c){b.bind("click",function(a){a.preventDefault(),a.stopPropagation()})}}}),angular.module("szseui.menu.dropdown",[]).constant("dropdownConfig",{openClass:"open"}).service("dropdownService",["$document",function(a){var b=null;this.open=function(e){b||(a.bind("click",c),a.bind("keydown",d)),b&&b!==e&&(b.isOpen=!1),b=e},this.close=function(e){b===e&&(b=null,a.unbind("click",c),a.unbind("keydown",d))};var c=function(){b.$apply(function(){b.isOpen=!1})},d=function(a){27===a.which&&c()}}]).controller("DropdownController",["$scope","$attrs","dropdownConfig","dropdownService",function(a,b,c,d){var e=this,f=c.openClass;this.init=function(c){e.$element=c,a.isOpen=angular.isDefined(b.isOpen)?a.$parent.$eval(b.isOpen):!1},this.toggle=function(b){return a.isOpen=arguments.length?!!b:!a.isOpen},a.$watch("isOpen",function(b){e.$element.toggleClass(f,b),b?d.open(a):d.close(a),a.onToggle({open:!!b})}),a.$on("$locationChangeSuccess",function(){a.isOpen=!1})}]).directive("sDropdown",function(){return{restrict:"CA",controller:"DropdownController",scope:{isOpen:"=?",onToggle:"&"},link:function(a,b,c,d){d.init(b)}}}).directive("sDropdownToggle",function(){return{restrict:"CA",require:"?^sDropdown",link:function(a,b,c,d){d&&b.bind("click",function(c){c.preventDefault(),c.stopPropagation(),b.hasClass("disabled")||b.prop("disabled")||a.$apply(function(){d.toggle()})})}}}).directive("sDropdownMove",["$timeout",function(a){return{restrict:"CA",require:"?^sDropdown",link:function(b,c,d,e){if(e){var f=null;c.add(c.next(".dropdown-menu")).bind("mouseenter",function(d){a.cancel(f),d.preventDefault(),d.stopPropagation(),c.hasClass("disabled")||c.prop("disabled")||b.$apply(function(){e.toggle(!0)})}),c.add(c.next(".dropdown-menu")).bind("mouseleave",function(d){d.preventDefault(),d.stopPropagation(),a.cancel(f),f=a(function(){c.hasClass("disabled")||c.prop("disabled")||b.$apply(function(){e.toggle(!1)})},100)})}}}}]),angular.module("szseui.filter",[]).filter("encode",function(){return function(a){return encodeURIComponent(a)}}).filter("decode",function(){return function(a){return decodeURIComponent(a)}}),angular.module("szseui.dialog.modal",[]).constant("modalMessageConfig",{error:"error",warn:"warn",info:"info"}).factory("$$stackedMap",function(){return{createNew:function(){var a=[];return{add:function(b,c){a.push({key:b,value:c})},get:function(b){for(var c=0;c<a.length;c++)if(b==a[c].key)return a[c]},keys:function(){for(var b=[],c=0;c<a.length;c++)b.push(a[c].key);return b},top:function(){return a[a.length-1]},remove:function(b){for(var c=-1,d=0;d<a.length;d++)if(b==a[d].key){c=d;break}return a.splice(c,1)[0]},removeTop:function(){return a.splice(a.length-1,1)[0]},length:function(){return a.length}}}}}).directive("modalBackdrop",["$modalStack","$timeout",function(a,b){return{restrict:"EA",replace:!0,templateUrl:function(a,b){return window.$getSzseUiTemplateUrl$(a,b,"modal","backdrop")},link:function(c,d,e){b(function(){c.animate=!0}),c.close=function(b){var c=a.getTop();c&&c.value.backdrop&&"static"!=c.value.backdrop&&(b.preventDefault(),b.stopPropagation(),a.dismiss(c.key,"backdrop click"))}}}}]).directive("modalWindow",["$timeout","$position",function(a,b){return{restrict:"EA",scope:{index:"@"},replace:!0,transclude:!0,templateUrl:function(a,b){return window.$getSzseUiTemplateUrl$(a,b,"modal","window")},link:function(b,c,d){if(b.windowClass=d.windowClass||"",b.dialogClass=d.dialogClass||"",a(function(){b.animate=!0}),window.top!=window.self){var e=function(a){if(/^scrollTop/.test(a.data)){var b=a.data.match(/^scrollTop\s+(.+)$/);if(b&&2===b.length){var d=angular.fromJson(b[1]);c.css(d)}}};window.addEventListener("message",e,!1),window.top.postMessage("resendScrollTop","*"),b.$on("$destroy",function(){window.removeEventListener("message",e)})}}}}]).directive("modalBindHtml",["$timeout",function(a){return{restrict:"A",link:function(a,b,c){var d=a.$eval(c.modalBindHtml);b.html(d)}}}]).factory("$modalStack",["$document","$compile","$rootScope","$$stackedMap",function(a,b,c,d){function e(){for(var a=-1,b=k.keys(),c=0;c<b.length;c++)k.get(b[c]).value.backdrop&&(a=c);return a}function f(a){var b=k.get(a).value;k.remove(a),b.modalDomEl.remove(),h&&-1==e()&&(h.remove(),h=void 0),b.modalScope.$destroy()}var g,h,i=c.$new(!0),j=a.find("body").eq(0),k=d.createNew(),l={};return c.$watch(e,function(a){i.index=a}),a.bind("keydown",function(a){var b;27===a.which&&(b=k.top(),b&&b.value.keyboard&&c.$apply(function(){l.dismiss(b.key)}))}),l.open=function(a,c){k.add(a,{deferred:c.deferred,modalScope:c.scope,backdrop:c.backdrop,keyboard:c.keyboard});var d=angular.element("<div modal-window></div>");d.attr("window-class",c.windowClass),d.attr("dialog-class",c.dialogClass),d.attr("index",k.length()-1),d.html(c.content);var f=b(d)(c.scope);k.top().value.modalDomEl=f,j.append(f),e()>=0&&!h&&(g=angular.element("<div modal-backdrop></div>"),h=b(g)(i),j.append(h))},l.close=function(a,b){var c=k.get(a);c&&(c.value.deferred.resolve(b),f(a))},l.dismiss=function(a,b){var c=k.get(a).value;c&&(c.deferred.reject(b),f(a))},l.getTop=function(){return k.top()},l}]).provider("$modal",function(){var a={options:{backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$http","$templateCache","$controller","$modalStack",function(b,c,d,e,f,g,h){function i(a){return a.template?d.when(a.template):e.get(a.templateUrl,{cache:f}).then(function(a){return a.data})}function j(a){var c=[];return angular.forEach(a,function(a,e){(angular.isFunction(a)||angular.isArray(a))&&c.push(d.when(b.invoke(a)))}),c}var k={};return k.open=function(b){var e=d.defer(),f=d.defer(),k={result:e.promise,opened:f.promise,close:function(a){h.close(k,a)},dismiss:function(a){h.dismiss(k,a)}};if(b=angular.extend({},a.options,b),b.resolve=b.resolve||{},!b.template&&!b.templateUrl)throw new Error("One of template or templateUrl options is required.");var l=d.all([i(b)].concat(j(b.resolve)));return l.then(function(a){var d=(b.scope||c).$new();d.$close=k.close,d.$dismiss=k.dismiss;var f,i={},j=1;b.controller&&(i.$scope=d,i.$modalInstance=k,angular.forEach(b.resolve,function(b,c){i[c]=a[j++]}),f=g(b.controller,i)),h.open(k,{scope:d,deferred:e,content:a[0],backdrop:b.backdrop,keyboard:b.keyboard,windowClass:b.windowClass,dialogClass:b.dialogClass})},function(a){e.reject(a)}),l.then(function(){f.resolve(!0)},function(){f.reject(!1)}),k},k.message=function(a){var b=window.$getSzseUiTemplateUrl$(a||{},a||{},"modal","message"),c=function(){return a.message?d.when(a.message):e.get(a.messageUrl,{cache:f}).then(function(a){return a.data})};c().then(function(c){k.open({templateUrl:b,controller:["$scope","$modalInstance",function(b,d){b.title=a.title,b.message=c,b.type=a.type||"info",b.close=function(){d.close()}}]})})},k.confirmation=function(a){var b=window.$getSzseUiTemplateUrl$(a||{},a||{},"modal","confirmation"),c=function(){return a.message?d.when(a.message):e.get(a.messageUrl,{cache:f}).then(function(a){return a.data})};c().then(function(c){var d=k.open({templateUrl:b,controller:["$scope","$modalInstance",function(b,d){b.title=a.title,b.message=c,b.close=function(){d.close()},b.cancel=function(){d.dismiss()}}]});d.result.then(function(){a.ok&&a.ok()},function(){a.cancel&&a.cancel()})})},k}]};return a}),angular.module("szseui.bootstrap.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse","$interpolate",function(a,b,c,d){var e=this,f=b.numPages?c(b.numPages).assign:angular.noop;this.init=function(d){b.itemsPerPage?a.$parent.$watch(c(b.itemsPerPage),function(b){e.itemsPerPage=parseInt(b,10),a.totalPages=e.calculateTotalPages()}):this.itemsPerPage=d},this.noPrevious=function(){return 1===this.page},this.noNext=function(){return this.page===a.totalPages},this.isActive=function(a){return this.page===a},this.calculateTotalPages=function(){var b=this.itemsPerPage<1?1:Math.ceil(a.totalItems/this.itemsPerPage);return Math.max(b||0,1)},this.getAttributeValue=function(b,c,e){return angular.isDefined(b)?e?d(b)(a.$parent):a.$parent.$eval(b):c},this.render=function(){this.page=parseInt(a.page,10)||1,this.page>0&&this.page<=a.totalPages&&(a.pages=this.getPages(this.page,a.totalPages))},a.goPageNumber="",a.$watch("goPageNumber",function(){return null==a.goPageNumber||""==a.goPageNumber?void(a.PageNumberError=!1):void(/^\d*$/.test(a.goPageNumber)&&1*a.goPageNumber>0&&1*a.goPageNumber<=1*a.totalPages?a.PageNumberError=!1:a.PageNumberError=!0)}),a.selectPage=function(b){!e.isActive(b)&&b>0&&b<=a.totalPages&&/^\d*$/.test(b)&&(a.page=b,a.onSelectPage({page:b}))},a.$watch("page",function(){e.render()}),a.$watch("totalItems",function(){a.totalPages=e.calculateTotalPages()}),a.$watch("totalPages",function(b){f(a.$parent,b),e.page>b||e.render()})}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0,goInput:!0}).directive("pagination",["$parse","paginationConfig",function(a,b){return{restrict:"EA",scope:{page:"=",totalItems:"=",onSelectPage:" &"},controller:"PaginationController",templateUrl:function(a,b){return window.$getSzseUiTemplateUrl$(a,b,"pagination","pagination")},replace:!0,link:function(c,d,e,f){function g(a,b,c,d){return{number:a,text:b,active:c,disabled:d}}var h,i=f.getAttributeValue(e.boundaryLinks,b.boundaryLinks),j=f.getAttributeValue(e.directionLinks,b.directionLinks),k=f.getAttributeValue(e.goInput,b.goInput),l=f.getAttributeValue(e.firstText,b.firstText,!0),m=f.getAttributeValue(e.previousText,b.previousText,!0),n=f.getAttributeValue(e.nextText,b.nextText,!0),o=f.getAttributeValue(e.lastText,b.lastText,!0),p=f.getAttributeValue(e.rotate,b.rotate);f.init(b.itemsPerPage),c.goInput=k,e.maxSize&&c.$parent.$watch(a(e.maxSize),function(a){h=parseInt(a,10),f.render()}),f.getPages=function(a,b){var c=[],d=1,e=b,k=angular.isDefined(h)&&b>h;k&&(p?(d=Math.max(a-Math.floor(h/2),1),e=d+h-1,e>b&&(e=b,d=e-h+1)):(d=(Math.ceil(a/h)-1)*h+1,e=Math.min(d+h-1,b)));for(var q=d;e>=q;q++){var r=g(q,q,f.isActive(q),!1);c.push(r)}if(k&&!p){if(d>1){var s=g(d-1,"...",!1,!1);c.unshift(s)}if(b>e){var t=g(e+1,"...",!1,!1);c.push(t)}}if(j){var u=g(a-1,m,!1,f.noPrevious());c.unshift(u);var v=g(a+1,n,!1,f.noNext());c.push(v)}if(i){var w=g(1,l,!1,f.noPrevious());c.unshift(w);var x=g(b,o,!1,f.noNext());c.push(x)}return c}}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("pager",["pagerConfig",function(a){return{restrict:"EA",scope:{page:"=",totalItems:"=",onSelectPage:" &"},controller:"PaginationController",templateUrl:function(a,b){return window.$getSzseUiTemplateUrl$(a,b,"pagination","pager")},replace:!0,link:function(b,c,d,e){function f(a,b,c,d,e){return{number:a,text:b,disabled:c,previous:i&&d,next:i&&e}}var g=e.getAttributeValue(d.previousText,a.previousText,!0),h=e.getAttributeValue(d.nextText,a.nextText,!0),i=e.getAttributeValue(d.align,a.align);e.init(a.itemsPerPage),e.getPages=function(a){return[f(a-1,g,e.noPrevious(),!0,!1),f(a+1,h,e.noNext(),!1,!0)]}}}}]),angular.module("szseui.tip.tooltip",["szseui.bootstrap.position","szseui.bootstrap.bindHtml"]).provider("$tooltip",function(){function a(a){var b=/[A-Z]/g,c="-";return a.replace(b,function(a,b){return(b?c:"")+a.toLowerCase()})}var b={placement:"top",animation:!0,popupDelay:0},c={mouseenter:"mouseleave",click:"click",focus:"blur"},d={};this.options=function(a){angular.extend(d,a)},this.setTriggers=function(a){angular.extend(c,a)},this.$get=["$window","$compile","$timeout","$parse","$document","$position","$interpolate",function(e,f,g,h,i,j,k){return function(e,l,m){function n(a){var b=a||o.trigger||m,d=c[b]||b;return{show:b,hide:d}}var o=angular.extend({},b,d),p=a(e),q=k.startSymbol(),r=k.endSymbol(),s="<"+p+'-popup title="'+q+"tt_title"+r+'" content="'+q+"tt_content"+r+'" placement="'+q+"tt_placement"+r+'" animation="tt_animation" is-open="tt_isOpen"></'+p+"-popup>";return{restrict:"EA",scope:!0,link:function(a,b,c){function d(){a.tt_isOpen?m():k()}function k(){(!z||a.$eval(c[l+"Enable"]))&&(a.tt_popupDelay?t=g(p,a.tt_popupDelay):a.$apply(p))}function m(){a.$apply(function(){q()})}function p(){var c,d,e,f;if(a.tt_content){switch(r&&g.cancel(r),u.css({top:0,left:0,display:"block"}),w?v.append(u):b.after(u),c=w?j.offset(b):j.position(b),d=u.prop("offsetWidth"),e=u.prop("offsetHeight"),a.tt_placement){case"right":f={top:c.top+c.height/2-e/2,left:c.left+c.width};break;case"bottom":f={top:c.top+c.height,left:c.left+c.width/2-d/2};break;case"left":f={top:c.top+c.height/2-e/2,left:c.left-d};break;default:f={top:c.top-e,left:c.left+c.width/2-d/2}}f.top+="px",f.left+="px",u.css(f),a.tt_isOpen=!0}}function q(){a.tt_isOpen=!1,g.cancel(t),a.tt_animation?r=g(function(){u.remove()},500):u.remove()}var r,t,u=f(s)(a),v=i.find("body"),w=angular.isDefined(o.appendToBody)?o.appendToBody:!1,x=n(void 0),y=!1,z=angular.isDefined(c[l+"Enable"]);if(a.tt_isOpen=!1,c.$observe(e,function(b){b?a.tt_content=b:a.tt_isOpen&&q()}),c.$observe(l+"Title",function(b){a.tt_title=b}),c.$observe(l+"Placement",function(b){a.tt_placement=angular.isDefined(b)?b:o.placement}),c.$observe(l+"Animation",function(b){a.tt_animation=angular.isDefined(b)?!!b:o.animation}),c.$observe(l+"PopupDelay",function(b){var c=parseInt(b,10);a.tt_popupDelay=isNaN(c)?o.popupDelay:c}),angular.isDefined(c[l+"Val"])){var A=null;a.$watch(c[l+"Val"],function(a){A=a,1==a?g(function(){p()},0):q()}),a.$watch("tt_content",function(){1==A?g(function(){p()},0):q()})}c.$observe(l+"Trigger",function(a){angular.isDefined(c[l+"Val"])||(y&&(b.unbind(x.show,k),b.unbind(x.hide,m)),x=n(a),x.show===x.hide?b.bind(x.show,d):(b.bind(x.show,k),b.bind(x.hide,m)),y=!0)}),c.$observe(l+"AppendToBody",function(b){w=angular.isDefined(b)?h(b)(a):w}),w&&a.$on("$locationChangeSuccess",function(){a.tt_isOpen&&q()}),a.$on("$destroy",function(){g.cancel(t),u.remove(),u.unbind(),u=null,v=null})}}}}]}).directive("tooltipPopup",function(){return{restrict:"E",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:function(a,b){return window.$getSzseUiTemplateUrl$(a,b,"tooltip","tooltipPopup")}}}).directive("tooltip",["$tooltip",function(a){return a("tooltip","tooltip","mouseenter")}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"E",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:function(a,b){return window.$getSzseUiTemplateUrl$(a,b,"tooltip","tooltipHtmlUnsafePopup")}}}).directive("tooltipHtmlUnsafe",["$tooltip",function(a){return a("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("szseui.bootstrap.popover",["szseui.tip.tooltip"]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:function(a,b){return window.$getSzseUiTemplateUrl$(a,b,"popover","popover")}}}).directive("popover",["$tooltip",function(a){return a("popover","popover","click")}]),angular.module("szseui.form.select2",[]).value("uiSelect2Config",{}).directive("uiSelect2",["uiSelect2Config","$timeout",function(a,b){var c={};return a&&angular.extend(c,a),{require:"ngModel",priority:1,compile:function(a,d){var e,f,g,h=a.is("select"),i=angular.isDefined(d.multiple);return a.is("select")&&(f=a.find("option[ng-repeat], option[data-ng-repeat]"),f.length&&(g=f.attr("ng-repeat")||f.attr("data-ng-repeat"),e=jQuery.trim(g.split("|")[0]).split(" ").pop())),function(a,f,g,j){var k=angular.extend({},c,a.$eval(g.uiSelect2)),l=function(a){var b;return k.simple_tags?(b=[],angular.forEach(a,function(a,c){b.push(a.id)})):b=a,b},m=function(a){var b=[];return a?(k.simple_tags?(b=[],angular.forEach(a,function(a,c){b.push({id:a,text:a})})):b=a,b):b};if(h?(delete k.multiple,delete k.initSelection):i&&(k.multiple=!0),
j&&(a.$watch(d.ngModel,function(a,b){a&&a!==b&&j.$render()},!0),j.$render=function(){if(h)f.select2("val",j.$viewValue);else if(k.multiple){var a=j.$viewValue;angular.isString(a)&&(a=a.split(",")),f.select2("data",m(a))}else angular.isObject(j.$viewValue)?f.select2("data",j.$viewValue):j.$viewValue?f.select2("val",j.$viewValue):f.select2("data",null)},e&&a.$watch(e,function(a,c,d){angular.equals(a,c)||b(function(){f.select2("val",j.$viewValue),f.trigger("change"),a&&!c&&j.$setPristine&&j.$setPristine(!0)})}),j.$parsers.push(function(a){var b=f.prev();return b.toggleClass("ng-invalid",!j.$valid).toggleClass("ng-valid",j.$valid).toggleClass("ng-invalid-required",!j.$valid).toggleClass("ng-valid-required",j.$valid).toggleClass("ng-dirty",j.$dirty).toggleClass("ng-pristine",j.$pristine),a}),!h&&(f.bind("change",function(b){b.stopImmediatePropagation(),a.$$phase||a.$root.$$phase||a.$apply(function(){j.$setViewValue(l(f.select2("data")))})}),k.initSelection))){var n=k.initSelection;k.initSelection=function(a,b){n(a,function(a){var c=j.$pristine;j.$setViewValue(l(a)),b(a),c&&j.$setPristine(),f.prev().toggleClass("ng-pristine",j.$pristine)})}}f.bind("$destroy",function(){f.select2("destroy")}),g.$observe("disabled",function(a){f.select2("enable",!a)}),g.$observe("readonly",function(a){f.select2("readonly",!!a)}),g.ngMultiple&&a.$watch(g.ngMultiple,function(a){g.$set("multiple",!!a),f.select2(k)}),b(function(){f.select2(k),f.val(j.$viewValue),j.$render(),k.initSelection||h||j.$setViewValue(l(f.select2("data")))})}}}}]),angular.module("szseui.layout.tabs",[]).controller("TabsetController",["$scope",function(a){var b=this,c=b.tabs=a.tabs=[],d=0,e=null;b.select=function(a){angular.forEach(c,function(b,c){b.active&&b!==a&&(b.active=!1,b.onDeselect())}),a.active=!0,e=a,b.resize(a),f(),a.onSelect()};var f=function(){for(var a=!1,b=!1,d=0;d<c.length;d++)a===!1&&1==c[d].show&&(a=c[d]),c[d].first=!1,c[d].last=!1,1==c[d].show&&(b=c[d]);a.first=!0,b.last=!0};$(window).resize(function(){var c=function(a,b){a.$$phase||a.$root.$$phase?b():a.$apply(b)};c(a,function(){b.resize(e),f()})}),b.resize=function(b){if(a.autoResize===!0){var e=a.tabWidth,f=c.indexOf(b),g=a.$element2.width(),h=a.otherWidth;g-=h;var i=parseInt(g/e);if(c.length>i){a.overstep=!0;for(var j=0,k=0;k<c.length;k++)c[k].show&&(j+=1);if(!b.show||j!=i){if(f>=d){var l=f-i+1,m=f;0>l&&(l=0,m=i-1);for(var k=0;k<c.length;k++)k>=l&&m>=k?c[k].show=!0:c[k].show=!1}else{var l=f,m=f+i-1;m>c.length&&(l=c.length-i,m=c.length-1);for(var k=0;k<c.length;k++)k>=l&&m>=k?c[k].show=!0:c[k].show=!1}d=f}}else{a.overstep=!1;for(var k=0;k<c.length;k++)c[k].show=!0}}},b.addTab=function(d){a.tabWidth&&d.$element2.width(a.tabWidth),c.push(d),1===c.length?d.active=!0:d.active&&b.select(d)},b.removeTab=function(a){var d=c.indexOf(a);if(a.active&&c.length>1){var e=d==c.length-1?d-1:d+1;b.select(c[e])}c.splice(d,1)}}]).directive("tabset",["$parse",function(a){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"TabsetController",templateUrl:function(a,b){return window.$getSzseUiTemplateUrl$(a,b,"tabs","tabset")},link:function(b,c,d){if(b.$element2=c,angular.isDefined(d.autoResize)){b.autoResize=!0;var e=d.autoResize.split(",");b.tabWidth=e[0],b.otherWidth=e[1]||0}else b.autoResize=!1;if(b.vertical=angular.isDefined(d.vertical)?b.$parent.$eval(d.vertical):!1,b.justified=angular.isDefined(d.justified)?b.$parent.$eval(d.justified):!1,angular.isDefined(d.overstep)){var f=a(d.overstep),g=f.assign;b.$watch("overstep",function(a){g(b.$parent,a)})}}}}]).directive("tab",["$parse",function(a){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:function(a,b){return window.$getSzseUiTemplateUrl$(a,b,"tabs","tab")},transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},compile:function(b,c,d){return function(b,c,e,f){b.$element2=c,b.$watch("active",function(a){a&&f.select(b)}),b.show=!0,b.disabled=!1,e.disabled&&b.$parent.$watch(a(e.disabled),function(a){b.disabled=!!a}),b.select=function(){b.disabled||(b.active=!0)},f.addTab(b),b.$on("$destroy",function(){f.removeTab(b)}),b.$transcludeFn=d}}}}]).directive("tabHeadingTransclude",[function(){return{restrict:"A",require:"^tab",link:function(a,b,c,d){a.$watch("headingElement",function(a){a&&(b.html(""),b.append(a))})}}}]).directive("tabContentTransclude",function(){function a(a){return a.tagName&&(a.hasAttribute("tab-heading")||a.hasAttribute("data-tab-heading")||"tab-heading"===a.tagName.toLowerCase()||"data-tab-heading"===a.tagName.toLowerCase())}return{restrict:"A",require:"^tabset",link:function(b,c,d){var e=b.$eval(d.tabContentTransclude);e.$transcludeFn(e.$parent,function(b){angular.forEach(b,function(b){a(b)?e.headingElement=b:c.append(b)})})}}}),angular.module("szseui.bootstrap.timepicker",[]).constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:["AM","PM"],readonlyInput:!1,mousewheel:!0}).directive("timepicker",["$parse","$log","timepickerConfig",function(a,b,c){return{restrict:"EA",require:"?^ngModel",replace:!0,scope:{},templateUrl:function(a,b){return window.$getSzseUiTemplateUrl$(a,b,"timepicker","timepicker")},link:function(d,e,f,g){function h(){var a=parseInt(d.hours,10),b=d.showMeridian?a>0&&13>a:a>=0&&24>a;return b?(d.showMeridian&&(12===a&&(a=0),d.meridian===p[1]&&(a+=12)),a):void 0}function i(){var a=parseInt(d.minutes,10);return a>=0&&60>a?a:void 0}function j(a){return angular.isDefined(a)&&a.toString().length<2?"0"+a:a}function k(a){l(),g.$setViewValue(new Date(o)),m(a)}function l(){g.$setValidity("time",!0),d.invalidHours=!1,d.invalidMinutes=!1}function m(a){var b=o.getHours(),c=o.getMinutes();d.showMeridian&&(b=0===b||12===b?12:b%12),d.hours="h"===a?b:j(b),d.minutes="m"===a?c:j(c),d.meridian=o.getHours()<12?p[0]:p[1]}function n(a){var b=new Date(o.getTime()+6e4*a);o.setHours(b.getHours(),b.getMinutes()),k()}if(g){var o=new Date,p=c.meridians,q=c.hourStep;f.hourStep&&d.$parent.$watch(a(f.hourStep),function(a){q=parseInt(a,10)});var r=c.minuteStep;f.minuteStep&&d.$parent.$watch(a(f.minuteStep),function(a){r=parseInt(a,10)}),d.showMeridian=c.showMeridian,f.showMeridian&&d.$parent.$watch(a(f.showMeridian),function(a){if(d.showMeridian=!!a,g.$error.time){var b=h(),c=i();angular.isDefined(b)&&angular.isDefined(c)&&(o.setHours(b),k())}else m()});var s=e.find("input"),t=s.eq(0),u=s.eq(1),v=angular.isDefined(f.mousewheel)?d.$eval(f.mousewheel):c.mousewheel;if(v){var w=function(a){a.originalEvent&&(a=a.originalEvent);var b=a.wheelDelta?a.wheelDelta:-a.deltaY;return a.detail||b>0};t.bind("mousewheel wheel",function(a){d.$apply(w(a)?d.incrementHours():d.decrementHours()),a.preventDefault()}),u.bind("mousewheel wheel",function(a){d.$apply(w(a)?d.incrementMinutes():d.decrementMinutes()),a.preventDefault()})}if(d.readonlyInput=angular.isDefined(f.readonlyInput)?d.$eval(f.readonlyInput):c.readonlyInput,d.readonlyInput)d.updateHours=angular.noop,d.updateMinutes=angular.noop;else{var x=function(a,b){g.$setViewValue(null),g.$setValidity("time",!1),angular.isDefined(a)&&(d.invalidHours=a),angular.isDefined(b)&&(d.invalidMinutes=b)};d.updateHours=function(){var a=h();angular.isDefined(a)?(o.setHours(a),k("h")):x(!0)},t.bind("blur",function(a){!d.validHours&&d.hours<10&&d.$apply(function(){d.hours=j(d.hours)})}),d.updateMinutes=function(){var a=i();angular.isDefined(a)?(o.setMinutes(a),k("m")):x(void 0,!0)},u.bind("blur",function(a){!d.invalidMinutes&&d.minutes<10&&d.$apply(function(){d.minutes=j(d.minutes)})})}g.$render=function(){var a=g.$modelValue?new Date(g.$modelValue):null;isNaN(a)?(g.$setValidity("time",!1),b.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(a&&(o=a),l(),m())},d.incrementHours=function(){n(60*q)},d.decrementHours=function(){n(60*-q)},d.incrementMinutes=function(){n(r)},d.decrementMinutes=function(){n(-r)},d.toggleMeridian=function(){n(720*(o.getHours()<12?1:-1))}}}}}]),angular.module("szseui.dialog.toaster",["ngAnimate"]).service("toaster",["$rootScope",function(a){this.pop=function(b,c,d,e,f){this.toast={type:b,title:c,body:d,timeout:e,bodyOutputType:f},a.$broadcast("toaster-newToast")}}]).constant("toasterConfig",{"tap-to-dismiss":!0,"newest-on-top":!0,"time-out":5e3,"icon-classes":{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},"body-output-type":"","body-template":"toasterBodyTmpl.html","icon-class":"toast-info","position-class":"toast-top-right","title-class":"toast-title","message-class":"toast-message"}).directive("toasterContainer",["$compile","$timeout","$sce","toasterConfig","toaster",function(a,b,c,d,e){return{replace:!0,restrict:"EA",link:function(a,f,g){function h(b){switch(b.type=k["icon-classes"][b.type],b.type||(b.type=k["icon-class"]),j++,angular.extend(b,{id:j}),b.bodyOutputType){case"trustedHtml":b.html=c.trustAsHtml(b.body);break;case"template":b.bodyTemplate=k["body-template"]}var d="number"==typeof b.timeout?b.timeout:k["time-out"];d>0&&i(b,d),k["newest-on-top"]===!0?a.toasters.unshift(b):a.toasters.push(b)}function i(c,d){c.timeout=b(function(){a.removeToast(c.id)},d)}var j=0,k=d;g.toasterOptions&&angular.extend(k,a.$eval(g.toasterOptions)),a.config={position:k["position-class"],title:k["title-class"],message:k["message-class"],tap:k["tap-to-dismiss"]},a.toasters=[],a.$on("toaster-newToast",function(){h(e.toast)})},controller:["$scope","$element","$attrs",function(a,c,d){a.stopTimer=function(a){a.timeout&&b.cancel(a.timeout)},a.removeToast=function(b){var c=0;for(c;c<a.toasters.length&&a.toasters[c].id!==b;c++);a.toasters.splice(c,1)},a.remove=function(b){a.config.tap===!0&&a.removeToast(b)}}],template:'<div  id="toast-container" ng-class="config.position"><div class="toaster-header" ng-if="toasters.length>0"><span class="btn-close" ng-click="toasters.length=0">全部关闭&nbspx</span></div><div ng-repeat="toaster in toasters" class="toast" ng-class="toaster.type" ng-click="remove(toaster.id)" ng-mouseover="stopTimer(toaster)"><div ng-class="config.title">{{toaster.title}}</div><div ng-class="config.message" ng-switch on="toaster.bodyOutputType"><div ng-switch-when="trustedHtml" ng-bind-html="toaster.html"></div><div ng-switch-when="template"><div ng-include="toaster.bodyTemplate"></div></div><div ng-switch-default >{{toaster.body}}</div></div></div></div>'}}]),angular.module("szseui.tree",[]).directive("tree",function(){return{restrict:"E",scope:{setting:"=",nodes:"=",id:"@"},templateUrl:function(a,b){return window.$getSzseUiTemplateUrl$(a,b,"tree","tree")},link:function(a,b,c,d){$(b).attr("id",a.id),a.$watch("nodes",function(c){null!=c&&$.fn.zTree.init($(b),a.setting,a.nodes)})},replace:!0}}),angular.module("szseui.form.typeahead",["szseui.bootstrap.position","szseui.bootstrap.bindHtml"]).factory("typeaheadParser",["$parse",function(a){var b=/^\s*(.*?)(?:\s+as\s+(.*?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+(.*)$/;return{parse:function(c){var d=c.match(b);if(!d)throw new Error("Expected typeahead specification in form of '_modelValue_ (as _label_)? for _item_ in _collection_' but got '"+c+"'.");return{itemName:d[3],source:a(d[4]),viewMapper:a(d[2]||d[1]),modelMapper:a(d[1])}}}}]).directive("sTypeahead",["$compile","$parse","$q","$timeout","$document","$position","typeaheadParser",function(a,b,c,d,e,f,g){var h=[9,13,27,38,40];return{require:"ngModel",link:function(i,j,k,l){var m,n=i.$eval(k.typeaheadMinLength)||1,o=i.$eval(k.typeaheadWaitMs)||0,p=i.$eval(k.typeaheadEditable)!==!1,q=b(k.typeaheadLoading).assign||angular.noop,r=b(k.typeaheadOnSelect),s=k.typeaheadInputFormatter?b(k.typeaheadInputFormatter):void 0,t=b(k.ngModel).assign,u=g.parse(k.sTypeahead),v=angular.element("<typeahead-popup></typeahead-popup>");v.attr({matches:"matches",active:"activeIdx",select:"select(activeIdx)",query:"query",position:"position"}),angular.isDefined(k.typeaheadTemplateUrl)&&v.attr("template-url",k.typeaheadTemplateUrl);var w=i.$new();i.$on("$destroy",function(){w.$destroy()});var x=function(){w.matches=[],w.activeIdx=-1},y=function(a){var b={$viewValue:a};q(i,!0),c.when(u.source(i,b)).then(function(c){if(a===l.$viewValue&&m){if(c.length>0){w.activeIdx=0,w.matches.length=0;for(var d=0;d<c.length;d++)b[u.itemName]=c[d],w.matches.push({label:u.viewMapper(w,b),model:c[d]});w.query=a,w.position=f.position(j),w.position.top=w.position.top+j.prop("offsetHeight")}else x();q(i,!1)}},function(){x(),q(i,!1)})};x(),w.query=void 0;var z;l.$parsers.unshift(function(a){return m=!0,a&&a.length>=n?o>0?(z&&d.cancel(z),z=d(function(){y(a)},o)):y(a):(q(i,!1),x()),p?a:a?void l.$setValidity("editable",!1):(l.$setValidity("editable",!0),a)}),l.$formatters.push(function(a){var b,c,d={};return s?(d.$model=a,s(i,d)):(d[u.itemName]=a,b=u.viewMapper(i,d),d[u.itemName]=void 0,c=u.viewMapper(i,d),b!==c?b:a)}),w.select=function(a){var b,c,d={};d[u.itemName]=c=w.matches[a].model,b=u.modelMapper(i,d),t(i,b),l.$setValidity("editable",!0),r(i,{$item:c,$model:b,$label:u.viewMapper(i,d)}),x(),j[0].focus()},j.bind("keydown",function(a){return 0===w.matches.length||-1===h.indexOf(a.which)?void(13===a.which&&a.preventDefault()):(a.preventDefault(),void(40===a.which?(w.activeIdx=(w.activeIdx+1)%w.matches.length,w.$digest()):38===a.which?(w.activeIdx=(w.activeIdx?w.activeIdx:w.matches.length)-1,w.$digest()):13===a.which||9===a.which?w.$apply(function(){w.select(w.activeIdx)}):27===a.which&&(a.stopPropagation(),x(),w.$digest())))}),j.bind("blur",function(a){});var A=function(a){j[0]!==a.target&&(x(),w.$digest())};e.bind("click",A),i.$on("$destroy",function(){e.unbind("click",A)}),j.after(a(v)(w))}}}]).directive("typeaheadPopup",function(){return{restrict:"E",scope:{matches:"=",query:"=",active:"=",position:"=",select:"&"},replace:!0,templateUrl:function(a,b){return window.$getSzseUiTemplateUrl$(a,b,"typeahead","typeaheadPopup")},link:function(a,b,c){a.templateUrl=c.templateUrl,a.isOpen=function(){return a.matches.length>0},a.isActive=function(b){return a.active==b},a.selectActive=function(b){a.active=b},a.selectMatch=function(b){a.select({activeIdx:b})}}}}).directive("typeaheadMatch",["$http","$templateCache","$compile","$parse",function(a,b,c,d){return{restrict:"E",scope:{index:"=",match:"=",query:"="},link:function(e,f,g){var h=window.$getSzseUiTemplateUrl$({},{},"typeahead","typeaheadMatch"),i=d(g.templateUrl)(e.$parent)||h;a.get(i,{cache:b}).success(function(a){f.replaceWith(c(a.trim())(e))})}}}]).filter("typeaheadHighlight",function(){function a(a){return a.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(b,c){return c?b.replace(new RegExp(a(c),"gi"),"<strong>$&</strong>"):b}}),angular.module("szseui.form.validation",[]).constant("validationConfig",{timely:!0,errorElm:'<div class="tooltip {{placement}}"  ng-show="$show" ng-class="{ in: $show, fade: false }">                                 <div class="tooltip-arrow"></div>                                 <div class="tooltip-inner" >{{$errorMessage}}</div>                            </div>'}).provider("$validatorProvider",function(){var a=function(a){return angular.isDefined(a)&&""!==a&&null!==a&&a===a?angular.isArray(a)&&0===a.length?!0:!1:!0},b={required:{validator:function(b){return!a(b)}},number:{validator:/^[-+]?[0-9]*[\.]?[0-9]*$/},email:{validator:/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/},password:{validator:function(a){var b={};return/^([#~`!@#$%^&*()-+=|\\"':;?>.<,]|\d|\w)+$/.test(a)?b.other=!0:b.other=!1,/^[~`!@#$%^&*()-+=|\\"':;?>.<,]+$/.test(a)?b.allspecial=!1:b.allspecial=!0,/^\d+$/.test(a)?b.allnumber=!1:b.allnumber=!0,a&&/^[A-Za-z]+$/.test(a)?b.allalphabet=!1:b.allalphabet=!0,b}},maxlength:{validator:function(a,b){return angular.isDefined(a)?a.length<=b:!0}},minlength:{validator:function(a,b){return angular.isDefined(a)?a.length>=b:!1}},min:{validator:function(a,b){return angular.isDefined(a)?Number(a)>=Number(b):!0}},max:{validator:function(a,b){return angular.isDefined(a)?Number(a)<=Number(b):!0}},integer:{validator:/^\s*$|^[-+]?[0-9]*$/},between:{validator:function(a,b,c){return Number(a)<=Number(c)&&Number(a)>=Number(b)}},ip:{validator:/^\s*$|^(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])\.(\d{1,2}|1\d\d|2[0-4]\d|25[0-5])$/},url:{validator:/^\s*$|^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/},addValidator:function(a,b){this[a]||(this[a]={validator:b})}},c={$get:["$rootScope",function(a){return b}],addValidator:function(a,c){b[a]||(b[a]={validator:c})}};return c}).directive("ngValidationSubmit",["$parse","$timeout",function(a,b){return{require:"form",compile:function(c,d){var e=a(d.ngValidationSubmit);return function(a,c,d,f){a.$on("$validatebackstage",function(){b(function(){c.find(".ng-invalid:visible:first").focus()})}),c.on("submit",function(d){f.$valid?a.$apply(function(){e(a,{$event:d})}):(a.$broadcast("szseui.form.validation.fail"),b(function(){c.find(".ng-invalid:visible:first").focus()}))})}}}}]).directive("ngValidationClick",["$parse","$timeout",function(a,b){return{require:"^form",compile:function(c,d){var e=a(d.ngValidationClick);return function(a,c,d,f){a.$on("$validatebackstage",function(){b(function(){var a=$position.offset(form.find(".ng-invalid:visible:first"));$("html,body").animate({scrollTop:a.top-200},500),c.find(".ng-invalid:visible:first").focus()})}),c.on("click",function(d){if(f.$valid)a.$apply(function(){e(a,{$event:d})});else{var g=$(this.form||c.parents("form"));a.$broadcast("szseui.form.validation.fail"),b(function(){var a=$position.offset(g.find(".ng-invalid:visible:first"));$("html,body").animate({scrollTop:a.top-200},500),g.find(".ng-invalid:visible:first").focus()})}})}}}}]).directive("sValidators",["$validatorProvider","errorMessageConfig","$parse","validationConfig","$compile","$position","$timeout",function(a,b,c,d,e,f,g){return{restrict:"A",require:"ngModel",link:function(c,h,i,j){function k(b){var d={},e=function(b){var f="custom",g=0;{if(!angular.isArray(b))return angular.isString(b)?a.hasOwnProperty(b)&&(f=b,angular.isArray(a.validateExpr))?void e(a.validateExpr):(d[f]=function(a){var c=F(b);if(!angular.isFunction(c))throw b+"==>"+c+" is not function";return c(a)},void(v[f]=null)):angular.isFunction(b)?(d[f]=b,void(v[f]=null)):angular.isObject(b)?void angular.forEach(b,function(b,e){var f;v[e]=b,a.hasOwnProperty(e)?(f=F(e),d[e]=function(a){var d=angular.isArray(b)?[a].concat(b):[a,b];return f.apply(c,d)}):(f=F(b),d[e]=function(a){var d=angular.isArray(b)?[a].concat(b):[a,b];return f.apply(c,d)})}):void 0;for(g=0;g<b.length;g++)e(b[g])}};return e(b),d}function l(a,b){var c=a;if(angular.isString(c)&&void 0!==b)if(angular.isArray(b)||angular.isObject(b)||(b=[b]),angular.isArray(b)){var d=b.length,e=function(a,c){return c=parseInt(c,10),c>=0&&d>c?b[c]:a};c=c.replace(/\$([0-9]+)/g,e)}else angular.forEach(b,function(a,b){c=c.split(":"+b).join(a)});return c}function m(a){return angular.isString(a)?void c.$watch(a,function(){angular.forEach(q,function(a){a(j.$modelValue||j.$viewValue)})}):angular.isArray(a)?void angular.forEach(a,function(a){c.$watch(a,function(){angular.forEach(q,function(a){a(j.$modelValue||j.$viewValue)})})}):void(angular.isObject(a)&&angular.forEach(a,function(a,b){angular.isString(a)&&c.$watch(a,function(){q[b](j.$modelValue||j.$viewValue)}),angular.isArray(a)&&angular.forEach(a,function(a){c.$watch(a,function(){q[b](j.$modelValue||j.$viewValue)})})}))}var n,o=function(a,b){return angular.isDefined(a)?c.$eval(a):b},p=function(a){return a.match(/^\/(.*)\/([gim]*)$/)},q={},r=!1,s=d.timely===!0?!0:!1,t=j,u=o(i.sValidatorMessages,{}),v={},w=i.placement||d.placement||"right",x=function(a){c.$$phase||c.$root.$$phase?a():c.$apply(a)},y=angular.element(d.errorElm),z=c.$new(!0),A=e(y)(z);c.$watch(i.sValidators,function(a){G(),H(a),t.$setViewValue(h.val()),B()},!0),z.$show=!1,z.$errorMessage="",z.placement=w,h.after(A),h.bind("change",function(){x(function(){j.$setValidity("backs",!0)})}),c.$on("$validatebackstage",function(a){if(a.targetScope.$validbackstage&&i.name){if(i.backstageId)n=i.backstageId;else if(a.targetScope.$validbackstage[i.name])n=i.name;else{var b=$("[name='"+i.name+"']").index(h);n=b+"_"+i.name}if(a.targetScope.$validbackstage[n]){var c=a.targetScope.$validbackstage[n];u.backs=c,j.$setValidity("backs",!1),g(function(){var a=$(h.parents("form"));a.find(".ng-invalid:visible:first").focus()})}}});var B=function(){(s===!0||r===!0)&&(t.$valid?E():D())};h.bind("focus",function(){r=!0,h.addClass("ng-show-invalid"),x(B)}),h.bind("blur",function(){r=!1,s!==!0&&x(E)}),c.$watch(function(){return t.$error},B,!0);var C=function(){var a,c,d,e=[];return angular.forEach(t.$error,function(a,b){a===!0&&e.push(b)}),a=e[0],c=u[a]||b.getMessge(i.name,a)||a,d=v[a],l(c,[].concat(d))},D=function(){j.$valid||(z.$show=!0,z.$errorMessage=C(),g(function(){A.css({top:0,left:0,display:"block"}),h.after(A),z.placement=w;var a,b=f.position(h),c=A.prop("offsetWidth"),d=A.prop("offsetHeight");switch("right"==z.placement&&b.left+b.width+A.width()>$(document).width()&&(z.placement="bottom"),z.placement){case"right":a={top:b.top+b.height/2-d/2,left:b.left+b.width};break;case"bottom":a={top:b.top+b.height,left:b.left+b.width/2-c/2};break;case"left":a={top:b.top+b.height/2-d/2,left:b.left-c};break;default:a={top:b.top-d,left:b.left+b.width/2-c/2}}a.top+="px",a.left+="px",A.css(a)}))},E=function(){z.$show=!1},F=function(b){if(angular.isFunction(b))return b;if(angular.isString(b)){if(a.hasOwnProperty(b)){var d=a[b].validator;return angular.isObject(d)&&angular.isFunction(d.test)?function(a){return d.test(a)}:d}if(p(b)){var e=b.match(/^\/(.*)\/([gim]*)$/);if(e)return function(a){return new RegExp(e[1],e[2]).test(a)};throw NaN+b+"无法解析创建Validator"}return function(a){return c.$eval(b,{$value:a})}}throw NaN+b+"无法解析创建Validator"},G=function(){angular.forEach(q,function(a,b){var c=j.$parsers.indexOf(a);-1!==c&&t.$parsers.splice(c,1),c=j.$formatters.indexOf(a),-1!==c&&t.$formatters.splice(c,1),j.$setValidity(b,!0)}),q={}},H=function(b){var c=k(b);angular.forEach(c,function(b,c){var d=function(d){if("required"!==c&&!a.required.validator(d))return j.$setValidity(c,!0),d;var e=b(d);return angular.isObject(e)&&angular.isFunction(e.then)?(e.then(function(){j.$setValidity(c,!0)},function(){j.$setValidity(c,!1)}),d):angular.isObject(e)?(angular.forEach(e,function(a,b){j.$setValidity(b,a)}),d):e?(j.$setValidity(c,!0),d):(j.$setValidity(c,!1),d)};q[c]=d,t.$parsers.push(d),t.$formatters.unshift(d)})};i.sValidatorWatch&&m(c.$eval(i.sValidatorWatch)),c.$on("szseui.form.validation.fail",function(){h.addClass("ng-show-invalid")});var I=function(){z.$show===!0&&D()};$(window).bind("resize",I),c.$on("$destroy",function(a){$(window).unbind("resize",I)})}}}]).constant("errorMessageConfig",{special:{username:{required:"请输入您的姓名!"},vname:{required:"请输入您的姓名!"},name:{required:"请输入您的姓名!"},email:{required:"请输入您的邮件!"},password:{required:"请输入您的密码!"},age:{required:"请输入您的年龄!"}},common:{required:"此字段不能为空!",minlength:"您输入的长度不能小于$0",maxlength:"您输入的长度不能大于$0",email:"您的输入不符合邮件的格式",number:"必须输入数字",max:"您的输入的值不能大于$0",min:"您的输入的值不能小于$0",other:"密码只能包含字母数字和特殊字符",allspecial:"密码不能全是特殊字符",allnumber:"密码不能全是数字",allalphabet:"密码不能全是字母",integer:"请输入整型数据",between:"请输入$0-$1之间的数",ip:"请输入正确的ip",url:"请输入正确的url"},getMessge:function(a,b){return this.special[a]?this.special[a][b]||this.common[b]:this.common[b]}});